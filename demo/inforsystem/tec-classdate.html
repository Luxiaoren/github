<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="css/public.css">
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" type="text/css" href="css/tec-style-classdate.css"/>
    <title>教师-班级管理</title>
</head>
<body>
<header>
    <a href="">大学信息基础作业管理系统</a>
    <div id="setting">
        <a href="">康勇</a>
        <div id="bott">
            <a href="#">修改密码</a>
            <a href="#">退出</a>
        </div>
    </div>
</header>
<aside>
    <div class="home">
        <a href="main.html" class="top"><img src="image/i-2.png" alt=""></a>
    </div>
    <a href="#" id="stu" onclick="changelist(this,stulist,false);return false;">学生模块</a>
    <ul id="stulist">
        <li><a href="stu-basefile.html">基本资料</a></li>
        <li><a href="stu-classdate.html" >班级情况</a></li>
        <li><a href="stu-homewok.html">家庭作业</a></li>
        <li><a href="stu-classconf.html">班级通知</a></li>
    </ul>
    <a href="#" id="tec" onclick="changelist(this,teclist,true);return false;">教师模块</a><!--false表示初始高度为隐藏高度时-->
    <ul id="teclist">
        <li><a href="tec-basefile.html">基本资料</a></li>
        <li><a href="tec-classdate.html">班级情况</a></li>
        <li><a href="tec-classmate.html">人员管理</a></li>
        <li><a href="tec-homework.html">班级作业</a></li>
    </ul>
    <a href="#" id="admin" onclick="changelist(this,adminlist,false);return false;">管理员模块</a>
    <ul id="adminlist">
        <li><a href="admin-peo.html">人员信息</a></li>
        <li><a href="admin-abouts.html">关于我们</a></li>
        <li><a href="admin-contacts.html">联系我们</a></li>
    </ul>
</aside>
<div id="main">
    <div class="bar">
        教师 > 班级情况
    </div>
    <div id="classList" class="margin">
        <div class="className">
            计科1401班
            <div class="btn">展开</div>
        </div>
        <div class="classInfo">
            <ul class="clear">
                <li><span>班级名称:</span><p>计算机科学与技术1401班</p></li>
                <li><span>班级人数:</span><p>60</p></li>
                <li><span>班&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;长:</span><p>李班长</p></li>
                <li><span>班委成员:</span><p>张三，李四，王二，李五</p></li>
                <li><span>最近活动:</span><p>无</p></li>

            </ul>
        </div>
        <div class="className">
            计科1401班
            <div class="btn">展开</div>
        </div>
        <div class="classInfo">
            <ul class="clear">
                <li><span>班级名称:</span><p>计算机科学与技术1401班</p></li>
                <li><span>班级人数:</span><p>60</p></li>
                <li><span>班&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;长:</span><p>李班长</p></li>
                <li><span>班委成员:</span><p>张三，李四，王二，李五</p></li>
                <li><span>最近活动:</span><p>无</p></li>

            </ul>
        </div>
        <div id="addBtn"></div>
    </div>

</div>
</body>
<script src="js/style.js"></script>
<script src="js/common.js"></script>
<script>
    let op=document.querySelectorAll('li p');
    let obtn=document.querySelectorAll('.btn');
    onload=function(){
      for(let i=0;i<op.length;i++){
          let str=getCookie(`tec-classdate${i}`);
          if(str){
              op[i].innerHTML=str;
          }
      }
    };
    for(let i=0;i<obtn.length;i++){
        obtn[i].onclick=function () {

            let dis=getComputedStyle(this.parentNode.nextElementSibling,false)['display'];
            if(dis==="block"){
                this.parentNode.nextElementSibling.style.display="none";
                this.innerHTML="展开";

            }else{
                this.parentNode.nextElementSibling.style.display="block";
                this.innerHTML="折叠";

            }
        }
    }
    for(let i=0;i<op.length;i++){
        op[i].onclick=function(){
            this.index=i;
            let myinput=document.createElement('input');
            myinput.type="text";
            myinput.style.height="30px";
            myinput.style.width="400px";
            myinput.style.background="#F2F2F2";
            myinput.style.border=0;
            myinput.style.outline="none";
            myinput.value=this.innerHTML;
            this.innerHTML="";
            this.appendChild(myinput);
            myinput.focus();
            myinput.onclick=function (ev) {
                ev.stopPropagation();
            };
            let that=this;
            myinput.onblur=function () {
                that.innerHTML=this.value;
                setCookie(`tec-classdate${that.index}`,this.value,3*60*60);
            }

        }
    }
</script>
</html>